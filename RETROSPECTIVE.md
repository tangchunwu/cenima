# 项目复盘 (RETROSPECTIVE)

## 2026-01-29：视觉与交互优化阶段

### 遇到的挑战 (Challenges)
1. **组件定位困难**：用户提供的截图中包含特定文本（如“马格分裂”），但在源代码中直接搜索未命中。
   - **原因**：项目使用了 i18n 国际化，文本存储在 `translations.ts` 中。
   - **解决**：先搜索翻译文件找到 key，再反向查找使用该 key 的组件 (`MemoryCleaner.tsx`)。

2. **水花特效遮挡**：`SplashCursor` 组件默认层级 (`z-index: 50`) 过高，导致其覆盖在页面文字之上，干扰阅读。

3. **暗色模式下的可读性**：在极暗背景下，默认的 placeholder 颜色（如 `red-900/30`）对比度严重不足，导致用户无法看清提示文字。

### 解决方案 (Solutions)
1. **层级重构**：
   - 建立清晰的 Z-Index 规范：背景层 (-10) < 特效层 (0) < 内容层 (10+)。
   - 将背景样式统一移除并下沉至全局 `App.tsx`。

2. **对比度增强**：
   - 将输入框 placeholder 颜色调整为半透明白色 (`white/50`) 或高亮色，确保在深色背景下清晰可见。
   - 提升水花特效的亮度系数 (0.15 -> 0.8)，使其在深色背景下更具表现力。

### 新学到的知识 (Learnings)
- **i18n 项目调试**：在多语言项目中调试 UI 问题时，应优先检查翻译文件作为入口。
- **视觉层级管理**：全局背景特效（如粒子、流体）应始终置于 DOM 结构的最底层或使用负 z-index，以避免干扰交互元素。
- **暗黑模式设计**：输入框的占位符文本在暗黑模式下需要更高的不透明度（>40%）才能保证良好的可访问性。
